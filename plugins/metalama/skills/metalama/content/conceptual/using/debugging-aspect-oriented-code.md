---
uid: debugging-aspect-oriented-code
level: 100
summary: "The document provides a step-by-step guide on how to debug aspect-oriented code using the Visual Studio debugger, including setting up a debug configuration, using breakpoints and step-into, and forcefully breaking the program."
keywords: "debug aspect-oriented code, debugger, breakpoints, step-into, transformed code, debug configuration, LamaDebug, Debugger.Break, aspect-transformed code"
created-date: 2023-02-16
modified-date: 2025-12-07
---

# Debugging aspect-oriented code

This article illustrates how to debug aspect-oriented code using the Visual Studio debugger. It builds on the previous discussion about how aspects transform your code, which included a side-by-side comparison of the original and transformed code as described at <xref:understanding-your-code-with-aspects>.

## Steps to debug aspect-oriented code

To debug code with aspects, follow these steps:

### Step 1. Open Build Configuration Manager

From the debug setting dropdown, select `Configuration Manager`:

![](images/config_manager.png)

### Step 2. Create a debug configuration named `LamaDebug`

The Configuration Manager displays the following dialog:

![](images/config_manager_dialog.png)

- Open the `Active solution configuration` dropdown.

![](images/config_manager_new_config.png)

- Click `<New...>` to create a new debug configuration. This opens the New dialog.

![](images/empty_debug_config.png)

- Enter the name **`LamaDebug`** and copy settings from `Debug`.

![](images/lamadebug_config.png)

- Save this configuration by clicking `OK`.
- Change the build configuration to `LamaDebug`.

You're now ready to debug your aspect-transformed code.

## Breakpoints and step-into

> [!WARNING]
> With the `LamaDebug` build configuration, you **cannot** set breakpoints in your source code files. The debugger only sees the transformed code, so breakpoints placed in source files will not be hit.

However, you can:

- Use `F11` to step into the code as usual
- Use a hardcoded `Debugger.Break()` in your source to force a break at a specific location (see below)

The following sections show how to locate the transformed code and debug it.

Consider the following code with the logging (`[Log]`) aspect:

![](images/aspect_debug_01.png)

The logging aspect adds a line at the beginning of the method it intercepts, indicating the intercepted method name. When you step into this code by pressing `F11`, you see the transformed code.

![](images/aspect_debug_02.png)

> [!NOTE]
> Note that the line `Console.WriteLine("Running Demo.DoThis()")` is generated by the Logging aspect in the `AspectLib` namespace.

To locate the transformed code, click the `Show all files` button.

![Show_All_Files](images/show_all_files.png)

Once all files in your solution explorer are displayed, locate the file under `LamaDebug\net9.0\metalama`.

![](images/debug_transformed_code.png)

You can set a breakpoint on this transformed code, and it will be hit because this is the compiled code.

## Debugging using step-into and forceful break

[!metalama-test ~/code/DebugDemo/Program.cs]

> [!NOTE]
> When you debug this code by stepping into it, you'll observe that the actual code being debugged is the transformed code.

## Breaking forcefully using `Debugger.Break`

Use `Debugger.Break` to forcefully break the program.

![](images/debug_break.png)

> [!NOTE]
> Add `Debugger.Break` to forcefully break the debugger at a specific location.

> [!div class="see-also"]
>
> **See also**
>
> <xref:using-metalama>
> <xref:debugging-aspects>
> <xref:understanding-your-code-with-aspects>
